(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(t,e,c){},16:function(t,e,c){"use strict";c.r(e);var n=c(1),i=c.n(n),s=c(8),a=c.n(s),r=(c(14),c(2)),o=(c(5),c(9)),u=c(4),l={citiesList:JSON.parse(localStorage.getItem("citiesList"))||[]},j=function(t,e){switch(e.type){case"ADD_CITY":return Object(u.a)(Object(u.a)({},t),{},{citiesList:[].concat(Object(o.a)(t.citiesList),[e.payload])});case"REMOVE_CITY_CARD":var c=t.citiesList.filter((function(t){return t!==e.payload}));return Object(u.a)(Object(u.a)({},t),{},{citiesList:c});default:return l}},d=c(0),b=function(t){var e=t.dispatch,c=Object(n.useState)(""),i=Object(r.a)(c,2),s=i[0],a=i[1],o=Object(n.useRef)(null);return Object(d.jsxs)("div",{className:"InputWrap",children:[Object(d.jsx)("input",{className:"Input",onChange:function(t){a(t.target.value)},value:s,ref:o}),Object(d.jsx)("button",{className:"Button",onClick:function(){a(""),o.current.focus()},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),Object(d.jsx)("button",{className:"Button",onClick:function(){e({type:"ADD_CITY",payload:s}),o.current.focus(),a("")},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},O=Object(n.memo)((function(t){var e=t.city,c=t.dispatch,i=function(t){var e=Object(n.useState)(null),c=Object(r.a)(e,2),i=c[0],s=c[1];return Object(n.useEffect)((function(){fetch("".concat("https://api.openweathermap.org/data/2.5","/weather?q=").concat(t,"&appid=").concat("d2d4270599d432f4007d4385c328a903","&units=metric&lang={ru}")).then((function(t){return t.json()})).then(s)}),[t]),i}(e);if(!i)return null;var s=i.name,a=i.weather,o=i.main,u=a[0],l=u.description,j=u.icon,b=o.temp,O=o.humidity,p=o.feels_like;return Object(d.jsxs)("div",{className:"Card",children:[Object(d.jsx)("div",{className:"action-btn",children:Object(d.jsx)("button",{onClick:function(){c({type:"REMOVE_CITY_CARD",payload:e})},className:"delete-btn",children:"X"})}),Object(d.jsxs)("div",{className:"MainInfo",children:[Object(d.jsx)("img",{className:"Icon",src:"http://openweathermap.org/img/wn/".concat(j,"@2x.png"),alt:"icon"}),Object(d.jsx)("div",{className:"Title",children:s}),Object(d.jsx)("div",{className:"Description",children:l}),Object(d.jsx)("div",{className:"Temperature",children:b.toFixed()})]}),Object(d.jsxs)("div",{className:"Information",children:[Object(d.jsxs)("div",{children:["Humidity: ",O]}),Object(d.jsxs)("div",{children:["Feels like: ",p]})]})]})})),p=function(t){var e=t.citiesList,c=t.dispatch;return Object(d.jsx)("div",{className:"CardList",children:e.map((function(t){return Object(d.jsx)(O,{city:t,dispatch:c},t)}))})};var h=function(){var t=function(){var t=Object(n.useReducer)(j,l),e=Object(r.a)(t,2),c=e[0],i=e[1],s=c.citiesList;return Object(n.useEffect)((function(){localStorage.setItem("citiesList",JSON.stringify(s))}),[s]),[s,i]}(),e=Object(r.a)(t,2),c=e[0],i=e[1];return Object(d.jsxs)("div",{className:"Main",children:[Object(d.jsx)(b,{dispatch:i}),Object(d.jsx)("div",{className:"CardList",children:Object(d.jsx)(p,{citiesList:c,dispatch:i})})]})},f=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(e){var c=e.getCLS,n=e.getFID,i=e.getFCP,s=e.getLCP,a=e.getTTFB;c(t),n(t),i(t),s(t),a(t)}))};a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(h,{})}),document.getElementById("root")),f()},5:function(t,e,c){}},[[16,1,2]]]);
//# sourceMappingURL=main.e959c72d.chunk.js.map