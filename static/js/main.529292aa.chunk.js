(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,c){},16:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(9),s=c.n(i),r=(c(14),c(3)),l=(c(5),c(8)),u=c(2),o={inputValue:"",editingCity:"",citiesList:JSON.parse(localStorage.getItem("citiesList"))||[],orderBy:"name"},j=function(e,t){switch(t.type){case"ADD_CITY":return Object(u.a)(Object(u.a)({},e),{},{citiesList:[].concat(Object(l.a)(e.citiesList),[t.payload])});case"REMOVE_CITY_CARD":var c=e.citiesList.filter((function(e){return e!==t.payload}));return Object(u.a)(Object(u.a)({},e),{},{citiesList:c});case"EDIT_CITY_CARD":return Object(u.a)(Object(u.a)({},e),{},{inputValue:t.payload,editingCity:t.payload});case"EDIT_CITY_DONE":var n=e.editingCity,a=e.citiesList.filter((function(e){return e!==n})),i=[].concat(Object(l.a)(a),[t.payload]);return Object(u.a)(Object(u.a)({},e),{},{citiesList:i,inputValue:"",editingCity:""});case"CHANGE_INPUT_VALUE":return Object(u.a)(Object(u.a)({},e),{},{inputValue:t.payload});case"RESET_INPUT":return Object(u.a)(Object(u.a)({},e),{},{inputValue:o.inputValue});default:return o}},d=c(0),b=function(){var e=Object(n.useRef)(null),t=Object(n.useContext)(h),c=t.dispatch,a=t.state,i=a.inputValue,s=a.editingCity;return Object(d.jsxs)("div",{className:"InputWrap",children:[Object(d.jsx)("input",{className:"Input",onChange:function(e){c({type:"CHANGE_INPUT_VALUE",payload:e.target.value})},value:i,ref:e}),Object(d.jsx)("button",{className:"ButtonLeft",onClick:function(){c({type:"RESET_INPUT",payload:i}),e.current.focus()},children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}),s?Object(d.jsx)("button",{className:"Button",onClick:function(){e.current.focus(),i.length&&(c({type:"EDIT_CITY_DONE",payload:i}),c({type:"RESET_INPUT",payload:i}))},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}):Object(d.jsx)("button",{className:"Button",onClick:function(){i.length&&(c({type:"ADD_CITY",payload:i}),c({type:"RESET_INPUT",payload:i}),e.current.focus())},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},O=Object(n.memo)((function(e){var t=e.city,c=Object(n.useContext)(h).dispatch,a=function(e){var t=Object(n.useState)(null),c=Object(r.a)(t,2),a=c[0],i=c[1];return Object(n.useEffect)((function(){fetch("".concat("https://api.openweathermap.org/data/2.5","/weather?q=").concat(e,"&appid=").concat("d2d4270599d432f4007d4385c328a903","&units=metric&lang={ru}")).then((function(e){return e.json()})).then(i)}),[e]),a}(t);if(!a)return null;var i=a.name,s=a.weather,l=a.main,u=s[0],o=u.description,j=u.icon,b=l.temp,O=l.humidity,p=l.feels_like;return Object(d.jsxs)("div",{className:"Card",children:[Object(d.jsxs)("div",{className:"action-btn",children:[Object(d.jsx)("button",{onClick:function(){c({type:"EDIT_CITY_CARD",payload:t})},className:"delete-btn",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(d.jsx)("button",{onClick:function(){c({type:"REMOVE_CITY_CARD",payload:t})},className:"delete-btn",children:"X"})]}),Object(d.jsxs)("div",{className:"MainInfo",children:[Object(d.jsx)("img",{className:"Icon",src:"http://openweathermap.org/img/wn/".concat(j,"@2x.png"),alt:"icon"}),Object(d.jsx)("div",{className:"Title",children:i}),Object(d.jsx)("div",{className:"Description",children:o}),Object(d.jsx)("div",{className:"Temperature",children:b.toFixed()})]}),Object(d.jsxs)("div",{className:"Information",children:[Object(d.jsxs)("div",{children:["Humidity: ",O]}),Object(d.jsxs)("div",{children:["Feels like: ",p]})]})]})})),p=function(){var e=Object(n.useState)("asc"),t=Object(r.a)(e,2),c=t[0],a=t[1],i=Object(n.useContext)(h).state.citiesList.sort();return"desc"===c&&i.reverse(),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"filter",children:Object(d.jsxs)("select",{className:"select",value:c,onChange:function(e){a(e.target.value)},children:[Object(d.jsx)("option",{value:"asc",children:"\u0421 \u043d\u0430\u0447\u0430\u043b\u0430"}),Object(d.jsx)("option",{value:"desc",children:"\u0421 \u043a\u043e\u043d\u0446\u0430"})]})}),Object(d.jsx)("div",{className:"CardList",children:i.map((function(e){return Object(d.jsx)(O,{city:e},e)}))})]})},h=a.a.createContext();var f=function(){var e=function(){var e=Object(n.useReducer)(j,o),t=Object(r.a)(e,2),c=t[0],a=t[1],i=c.citiesList;return Object(n.useEffect)((function(){localStorage.setItem("citiesList",JSON.stringify(i))}),[i]),[c,a]}(),t=Object(r.a)(e,2),c=t[0],a=t[1];return Object(d.jsx)(h.Provider,{value:{state:c,dispatch:a},children:Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"Main",children:[Object(d.jsx)(b,{}),Object(d.jsx)(p,{})]})})})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,17)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),m()},5:function(e,t,c){}},[[16,1,2]]]);
//# sourceMappingURL=main.529292aa.chunk.js.map